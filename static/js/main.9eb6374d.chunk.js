(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(35)},20:function(e,n,t){},33:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var i=t(1),r=t.n(i),a=t(9),o=t.n(a),l=(t(20),t(4)),s=t(6),c=t(10),u=t(11),h=t(13),v=t(12),f=t(14),w=t(0),x=(t(33),1),d=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(h.a)(this,Object(v.a)(n).call(this,e))).level2hexs=[new w.Hex(0,-2,2),new w.Hex(1,-2,1),new w.Hex(2,-2,0),new w.Hex(2,-1,-1),new w.Hex(2,0,-2),new w.Hex(1,1,-2),new w.Hex(0,2,-2),new w.Hex(-1,2,-1),new w.Hex(-2,2,0),new w.Hex(-2,1,1),new w.Hex(-2,0,2),new w.Hex(-1,-1,2)],t.level1hexs=[new w.Hex(0,-1,1),new w.Hex(1,-1,0),new w.Hex(1,0,-1),new w.Hex(0,1,-1),new w.Hex(-1,1,0),new w.Hex(-1,0,1)],t.level0hexs=[new w.Hex(0,0,0)],t.hexagons=Object(s.a)(t.level0hexs).concat(Object(s.a)(t.level1hexs),Object(s.a)(t.level2hexs)),t.state={turns:{},turnsMade:0,turn:x,result:null,winCombination:[]},t}return Object(f.a)(n,e),Object(u.a)(n,[{key:"makeTurn",value:function(e){var n=this.state,t=n.turns,i=n.turn,r=n.turnsMade,a={};a[w.HexUtils.getID(e)]=i;var o=Object.assign(a,t),s=r+1,c=this.checkResult(o,s),u=Object(l.a)(c,2),h=u[0],v=u[1];this.setState({result:h,winCombination:v,turn:null===h?(i+1)%2:void 0,turns:o,turnsMade:s})}},{key:"checkResult",value:function(e,n){if(n<7)return[null,[]];var t,i,r=this.checkRound(e,this.level1hexs),a=Object(l.a)(r,2);if(t=a[0],i=a[1],null!==t)return[t,i];var o=this.checkRound(e,this.level2hexs),s=Object(l.a)(o,2);if(t=s[0],i=s[1],null!==t)return[t,i];var c=this.checkDiagonals(e),u=Object(l.a)(c,2);return t=u[0],i=u[1],null!==t?[t,i]:[n>=this.hexagons.size?-1:null,[]]}},{key:"checkRound",value:function(e,n){for(var t=this.getTurn(e,n[0]),i=void 0===t?[]:[n[0]],r=1;r<n.length+4-1;++r){var a=n[r%n.length],o=this.getTurn(e,a);if(t===o){if(void 0!==t&&(i.push(a),i.length>=4))return[t,i]}else i=void 0===(t=o)?[]:[a]}return[null,[]]}},{key:"checkDiagonals",value:function(e){for(var n=0;n<this.level2hexs.length;++n){var t=this.level2hexs[n],i=this.getTurn(e,t);if(void 0!==i){var r=[t],a=this.level1hexs[Math.trunc(n/2)];if(this.getTurn(e,a)===i){r.push(a);for(var o=w.HexUtils.subtract(a,t),l=0;l<2&&(a=w.HexUtils.add(a,o),this.getTurn(e,a)===i);++l)r.push(a);if(r.length>=4)return[i,r]}}}return[null,[]]}},{key:"hexLevel",value:function(e){return Math.max(Math.max(Math.abs(e.q),Math.abs(e.r)),Math.abs(e.s))}},{key:"getTurn",value:function(e,n){return e[w.HexUtils.getID(n)]}},{key:"hexText",value:function(e,n){var t=this.getTurn(e,n);return t===x?"X":0===t?"O":null}},{key:"render",value:function(){var e=this,n=this.hexagons,t=this.state,i=t.turns,a=t.result,o=t.winCombination,l=t.turn;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,null!==a?0===a?"O wins":a===x?"X wins":"Draw":0===l?"O's turn":"X's turn"),r.a.createElement(w.HexGrid,{width:"100%",height:null,viewBox:"-50 -50 100 100"},r.a.createElement(w.Layout,{size:{x:10,y:10},flat:!0,spacing:1.01,origin:{x:0,y:0}},n.map(function(n,t){var l=e.getTurn(i,n);return r.a.createElement(w.Hexagon,{key:t,q:n.q,r:n.r,s:n.s,className:["level".concat(e.hexLevel(n)),o.find(function(e){return w.HexUtils.equals(e,n)})?"winner":""].join(" "),onClick:void 0===l&&null===a?function(){return e.makeTurn(n)}:void 0},r.a.createElement(w.Text,null,e.hexText(i,n)))}))))}}]),n}(i.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(d,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){var n=new URL("/tic-tac-toe",window.location.href);if(n.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(n,"/service-worker.js");g?(function(e,n){fetch(e).then(function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}("/tic-tac-toe",e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):b(t,e)})}}()}},[[15,2,1]]]);
//# sourceMappingURL=main.9eb6374d.chunk.js.map